<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" charset="UTF-8"/>
	<title>Ready Bootstrap Dashboard</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
	<link rel="stylesheet" th:href="@{/dist/css/bootstrap.min.css}" >
	<link rel="stylesheet" th:href="@{'https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i'}">
	<link rel="stylesheet" th:href="@{/dist/css/ready.css}">
	<link rel="stylesheet" th:href="@{/dist/css/demo.css}">
</head>
<body>
	<div class="wrapper">
		<!-- 顶部导航条-->
		<div class="main-header">
			<div class="logo-header">
				<a href="../index.html" class="logo">
					商品秒杀平台
				</a>
				<button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<button class="topbar-toggler more"><i class="la la-ellipsis-v"></i></button>
			</div>
			<nav class="navbar navbar-header navbar-expand-lg">
				<div class="container-fluid">
					

					<ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
						<li class="nav-item dropdown hidden-caret">
							<a class="nav-link dropdown-toggle" href="#"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<i class="la la-envelope"></i>
							</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item" href="#">未读邮件</a>
								<a class="dropdown-item" href="#">已读邮件</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#">我的邮件</a>
							</div>
						</li>
						<li class="nav-item dropdown hidden-caret">
							<a class="nav-link dropdown-toggle" href="#"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								<i class="la la-bell"></i>
								<span class="notification">3</span>
							</a>
							<ul class="dropdown-menu notif-box" aria-labelledby="navbarDropdown">
								<li>
									<div class="dropdown-title">您有新的通知</div>
								</li>
								<li>
									<div class="notif-center">
										<a href="#">
											<div class="notif-icon notif-primary"> <i class="la la-user-plus"></i> </div>
											<div class="notif-content">
												<span class="block">
													新用户注册
												</span>
												<span class="time">5分钟前</span>
											</div>
										</a>
										<a href="#">
											<div class="notif-icon notif-success"> <i class="la la-comment"></i> </div>
											<div class="notif-content">
												<span class="block">
													Rahmad 评论了 Admin
												</span>
												<span class="time">12分钟前</span>
											</div>
										</a>
										<a href="#">
											<div class="notif-icon notif-success"> <i class="la la-comment"></i> </div>
											<div class="notif-content">
												<span class="block">
													Reza 给您发了消息
												</span>
												<span class="time">12 分钟前</span>
											</div>
										</a>
										<a href="#">
											<div class="notif-icon notif-danger"> <i class="la la-heart"></i> </div>
											<div class="notif-content">
												<span class="block">
													谁关注了我
												</span>
												<span class="time">17 分钟前</span>
											</div>
										</a>
									</div>
								</li>
								<li>
									<a class="see-all" href="javascript:void(0);"> <strong>查看所有通知</strong> <i class="la la-angle-right"></i> </a>
								</li>
							</ul>
						</li>
						<li class="nav-item dropdown">
							<a class="dropdown-toggle profile-pic" data-toggle="dropdown" href="#" aria-expanded="false"> <img th:src="@{/dist/img/xiaqiu.jpg}" alt="user-img" width="36" class="img-circle"><span >夏秋</span></span> </a>
							<ul class="dropdown-menu dropdown-user">
								<li>
									<div class="user-box">
										<div class="u-img"><img th:src="@{/dist/img/xiaqiu.jpg}" alt="user"></div>
										<div class="u-text">
											<h4>姓名</h4>
											<p class="text-muted">邮箱：hello@themekita.com</p><a href="" class="btn btn-rounded btn-danger btn-sm">查看资料</a></div>
										</div>
									</li>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#"><i class="ti-user"></i> 我的档案 </a>
									<a class="dropdown-item" href="#"> 我的账户余额</a>
									<a class="dropdown-item" href="#"><i class="ti-email"></i> 收件箱</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#"><i class="ti-settings"></i> 账户设置</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="/logout"><i class="fa fa-power-off"></i> 退出登录</a>
							</ul>
								<!-- /.dropdown-user -->
						</li>
					</ul>
					</div>
				</nav>
			</div>
		<!-- 左侧菜单栏-->
		      <div class="sidebar">
				<div class="scrollbar-inner sidebar-wrapper">
					<div class="user">
						<div class="photo">
							<img th:src="@{/dist/img/xiaqiu.jpg}">
						</div>
						<div class="info">
							<a class="" data-toggle="collapse" href="#collapseExample" aria-expanded="true">
								<span>
									<span class="user-level">夏秋</span>
									<span class="caret"></span>
								</span>
							</a>
							<div class="clearfix"></div>

							<div class="collapse in" id="collapseExample" aria-expanded="true" style="">
								<ul class="nav">
									<li>
										<a href="/system/user/getuser">
											<span class="link-collapse">个人资料</span>
										</a>
									</li>
									<li>
										<a href="/system/user/set">
											<span class="link-collapse">修改资料</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div >
					<div class="nav nav-list"  >
						<ul>
							<li class="nav-item">
								<a href="/index" >
									<i class="la la-bank"></i>
									<p>主页</p>
								</a>
							</li>
						<li class="nav-item ">
							<a href="#system" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">
								<i class="la la-dashboard"></i>
								<p>系统管理</p>
							</a>
							<div class="collapse in" id="system" aria-expanded="true" style="">
							<ul class="submenu">
								<li class="nav-item active">
									<a  href="/system/user/userlist/1" >
										<i class="la la-dashboard"></i>
										<p>用户管理</p>
									</a>
									<b class="arrow"></b>
								</li>
								<li class="nav-item">
									<a  href="/system/role/rolelist/1" >
										<i class="la la-dashboard"></i>
										<p>角色管理</p>
									</a>
									<b class="arrow"></b>
								</li>
							</ul>
							</div>
						</li>

						<li class="nav-item ">
							<a href="#mer" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">
								<i class="la la-font"></i>
								<p>商家模块</p>
							</a>
							<div class="collapse in" id="mer" aria-expanded="true" style="">
							<ul class="submenu" >
								<li class="nav-item">
									<a  href="/shopping/listById/1" >
										<i class="la la-font"></i>
										<p>我的商品</p>
									</a>
									<b class="arrow"></b>
								</li>
								<li class="nav-item">
									<a  href="/order/orderlist/1" >
										<i class="la la-font"></i>
										<p>我的订单</p>
									</a>
									<b class="arrow"></b>
								</li>
							</ul>
							</div>
						</li>
						<li class="nav-item ">
							<a href="#user" data-toggle="collapse" aria-expanded="true" class="dropdown-toggle">
								<i class="la la-group"></i>
								<p>用户模块</p>
							</a>
							<div class="collapse in" id="user" aria-expanded="true" style="">
							<ul class="submenu" >
								<!--//聚焦-->
								<li class="nav-item ">
									<a  href="/shopping/list/1" >
										<i class="la la-group"></i>
										<p>浏览商品</p>
									</a>
									<b class="arrow"></b>
								</li>
								<li class="nav-item ">
									<a  href="/order/list/1" >
										<i class="la la-group"></i>
										<p>购买列表</p>
									</a>
									<b class="arrow"></b>
								</li>
							</ul>
							</div>
						</li>

					</ul>
					</div>
				</div>
			</div>
			</div>
		<!-- 正文-->
		<div class="main-panel">
			<div class="content ">
				<div class=" col-sm-6 col-lg-12 ">
					<div class="card ">
						<div class="card-header">
							<div class="card-title">信息修改</div>
						</div>
						<div class="card-body">
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">登录账号：</label>
								<p th:text="${user.getUserName()}">账号</p>
							</div>
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">用户名称：</label>
								<p th:text="${user.getName()}">姓名</p>
							</div>
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">电子邮箱：</label>
								<p th:text="${user.getEmail()}">电子邮箱</p>
							</div>
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">手机号码：</label>
								<p th:text="${user.getPhone()}">手机号码</p>
							</div>
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">年龄：</label>
								<p th:text="${user.getAge()}">年龄</p>
							</div>
							<div class="form-group form-inline">
								<label  class="col-md-2 col-form-label">性别：</label>
								<input type="hidden" id="gender" th:value="${user.getGender()}" />
								<p th:if="${user.getGender() eq 1}">男</p>
								<p th:if="${user.getGender() eq 2}">女</p>
								<p th:if="${user.getGender() eq 3}">保密</p>
							</div>
						</div>
						<div class="card-action">
							<a href="/system/user/userlist/1">
								<button class="btn btn-success">返回主页</button>
							</a>
							<a th:href="@{'/system/user/userupdate/'+${user.id}}">
								<button class="btn btn-secondary">修改资料</button>
							</a>
						</div>
					</div>
				</div>


			</div>
		</div>
		<!-- 底部-->
		<footer class="footer">
				<div class="container-fluid">
					<nav class="pull-left">
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#">
									ThemeKita
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#">
									Help
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="">
									Licenses
								</a>
							</li>
						</ul>
					</nav>
					<div class="copyright ml-auto">
						2019 <i class="la la-heart heart text-danger"></i>  <a href="#"></a></div>
				</div>
			</footer>
	</div>


</body>
<script th:src="@{/dist/js/core/jquery.3.2.1.min.js}"></script>
<script th:src="@{/dist/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js}"></script>
<script th:src="@{/dist/js/core/popper.min.js}"></script>
<script th:src="@{/dist/js/core/bootstrap.min.js}"></script>
<script th:src="@{/dist/js/plugin/chartist/chartist.min.js}"></script>
<script th:src="@{/dist/js/plugin/chartist/plugin/chartist-plugin-tooltip.min.js}"></script>
<script th:src="@{/dist/js/plugin/bootstrap-notify/bootstrap-notify.min.js}"></script>
<script th:src="@{/dist/js/plugin/bootstrap-toggle/bootstrap-toggle.min.js}"></script>
<script th:src="@{/dist/js/plugin/jquery-mapael/jquery.mapael.min.js}"></script>
<script th:src="@{/dist/js/plugin/jquery-mapael/maps/world_countries.min.js}"></script>
<script th:src="@{/dist/js/plugin/chart-circle/circles.min.js}"></script>
<script th:src="@{/dist/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js}"></script>
<script th:src="@{/dist/js/ready.min.js}"></script>
<script th:src="@{/dist/js/demo.js}"></script>
<script>
    jQuery(document).ready(function () {

        // $("#updateout").on("click",function () {
		//
        //     window.location.href="/system/user/userlist/1";
        // });


        $("#update").on("click",function () {
            var id= $("#id").val();
            var userName= $("#userName").val();
            var password= $("#password").val();
            var name= $("#name").val();
            var email= $("#email").val();
            var phone= $("#phone").val();
            var age= $("#age").val();
            var gender = $("input:radio[name='gender']:checked").val();
            if(name==null ||name==""){
                alert("用户昵称不能为空");
                return false;
            }
            if(userName==null ||userName==""){
                alert("登录账号不能为空");
                return false;
            }
            if(password==null ||password==""){
                alert("用户密码不能为空");
                return false;
            }
            if(email==null ||email==""){
                alert("电子邮箱不能为空");
                return false;
            }
            if(phone==null ||phone==""){
                alert("手机号码不能为空");
                return false;
            }
            if(age==null ||age==""){
                alert("年龄不能为空");
                return false;
            }


            $.ajax({
                type:"POST",
                url:"http://localhost:8081/system/user/update",
                data:{
                    "id":id,
					"userName":userName,
					"password":password,
                    "name":name,
                    "email":email,
                    "phone":phone,
                    "age":age,
                    "gender":gender
                },
                success:function (data){
                    if(data.code=200){
                        alert("修改成功");
                        window.location.href = "/system/user/userlist/1"
                    }else{
                        alert("修改失败，原因为"+data.data.errMsg);
                    }
                },
                error:function (data){
                    alert("修改失败，原因为"+date.responseText);
                }

            });
            return false;
        });

        
    });
</script>




</html>